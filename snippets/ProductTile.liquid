{% unless grid_sizes %}
  {% assign grid_sizes = 's12 m6 l6 xl4' %}
{% endunless %}
{% unless image_size %}
  {% assign image_size = '100x' %}
{% endunless %}
<div class="product-tile product-tile-page-{{paginate.current_page}} col {{grid_sizes}}" data-s-module="ProductTile">
  <div class="card">
    <div class="card-image">
      <img class="sidenav-trigger product-image lazy-image" 
      data-target="ProductDrawer" 
      data-page-title="{{product.title}}" 
      data-url="https://{{shop.domain}}{{product.url}}?view=stripped" 
      data-id={{product.id}} 
      src="{{ product.featured_image.src | img_url: image_size }}" 
      data-src="{{ product.featured_image.src | img_url: '400x' }}" 
      alt="{{ product.featured_image.alt | escape }}" 
      data-s-module="LazyImage">
      {% if product.metafields.suave['estimated_ship_date'] %}
      <span 
        style="background-color:#fab203;
        font-weight:bold;
        line-height:1.2;
        position:absolute;
        bottom:-15px;
        left: 20px;
        padding: 5px;">
          Estimated Ship Date: {{ product.metafields.suave['estimated_ship_date'] }}
      </span>
      {% endif %}
      <a href="#" class="btn-floating halfway-fab waves-effect waves-light sidenav-trigger background-s-red" data-target="ProductDrawer"><i data-page-title="{{product.title}}" data-url="https://{{shop.domain}}{{product.url}}?view=stripped" data-id="{{product.id}}" class="material-icons">visibility</i></a>
    </div>
    <div class="card-content">
      <span class="card-title"><a href="{{ product.url | within: collection }}" class="text-s-red-compliment{%if product.title.size > 40%} tooltipped{%endif%}" data-position="bottom" data-tooltip="{{product.title}}">{{ product.title | truncate: 40 }}</a></span>
      {% include 'ProductFormCompact' %}
    </div>
  </div>
</div>